const camera=document.querySelector("video");let barcodeDetector=new BarcodeDetector({formats:["ean_13","ean_8","upc_a","upc_e"]});const scanBarcode=async()=>{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}});camera.srcObject=e,await camera.play(),window.setInterval(async()=>{const e=await barcodeDetector.detect(camera);e.length<=0||window.location.replace(`${window.location.origin}/product/${e[0].rawValue}`)},1e3)};scanBarcode();